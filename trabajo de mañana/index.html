<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Desarrollo Web Espacial - CTP de Aserr√≠</title>

<style>

.contenedor-proyectos {
  display: grid;
  grid-template-columns: repeat(3, 180px);
  gap: 1rem;
  justify-content: center;
}

/* Ubica las tarjetas en sus columnas */
#tarjeta-izquierda {
  grid-column: 1;
}

#tarjeta-medio {
  grid-column: 2; /* tarjeta central */
}

#tarjeta-derecha {
  grid-column: 3;
}

/* Posiciona la tarjeta QR debajo de la tarjeta central */
#tarjeta-qr {
  grid-column: 2; /* misma columna que la del medio */
  margin-top: 1rem;
  width: 180px; /* igual ancho que las otras tarjetas */
  margin-left: auto;
  margin-right: auto; /* centrado horizontal */
  background: #002233;
  padding: 0.5rem;
  border-radius: 12px;
  box-shadow: 0 0 12px #00ffffaa;
  text-align: center;
  color: #00ffff;
}

#tarjeta-qr img {
  width: 100%;
  height: auto;
  object-fit: contain; /* mantiene proporciones sin recortar */
  border-radius: 8px;
  margin-top: 0.5rem;
}

  
#starfield {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
}
main {
  position: relative;
  z-index: 1;
}
/* Efectos hover mejorados */
.card:hover {
  transform: scale(1.1);
  box-shadow: 0 0 25px #00ffffee;
}

button:hover {
  background-color: #00ffee !important;
  transform: scale(1.05);
  box-shadow: 0 0 12px #00ffffaa;
}

.proyecto:hover {
  transform: scale(1.1) rotate(2deg);
  box-shadow: 0 0 20px #00ffffaa;
}

.tooltip-icon:hover {
  color: #00ffee;
  transform: scale(1.1);
}

footer:hover {
  background-color: #003344;
  color: #ffffff;
}

h2:hover, h3:hover, p:hover, li:hover {
  color: #ffffff;
  text-shadow: 0 0 10px #00ffff;
  cursor: default;
}
/* Animaciones extras */
@keyframes aparecer {
  0% {opacity: 0; transform: translateY(20px);}
  100% {opacity: 1; transform: translateY(0);}
}

@keyframes flotar {
  0% {transform: translateY(0px);}
  50% {transform: translateY(-5px);}
  100% {transform: translateY(0px);}
}

main > section, .galeria, .patrones, .iconografia {
  animation: aparecer 1s ease-out forwards;
}

.card {
  animation: flotar 2.5s ease-in-out infinite;
}

.proyecto {
  transition: transform 0.3s ease;
}
.proyecto:hover {
  transform: scale(1.08) rotateZ(2deg);
}

footer {
  animation: aparecer 2s ease-out forwards;
}

button {
  animation: aparecer 1.5s ease-out forwards;
}
  /* RESET B√ÅSICO */
  * {
    box-sizing: border-box;
    margin: 0; padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  body, html {
    height: 100%;
    background: #000022;
    color: #00ffff;
    overflow-x: hidden;
  }
  /* FONDO ESTRELLAS */
  #starfield {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background: transparent;
  }

  /* HEADER */
  header {
    text-align: center;
    padding: 1rem;
    background: linear-gradient(90deg, #002233, #004466);
    border-bottom: 2px solid #00ffff;
  }
  header .logo {
    width: 60px;
    vertical-align: middle;
  }
  header h1 {
    color: #00ffff;
    margin-bottom: 0.2rem;
  }
  header .subtitulo {
    font-style: italic;
    color: #00cccc;
    margin-bottom: 0.8rem;
  }
  header button {
    background: #00bbbb;
    border: none;
    padding: 0.5rem 1rem;
    margin: 0.3rem;
    border-radius: 10px;
    font-weight: bold;
    color: black;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  header button:hover {
    background: #00dddd;
  }

  /* MAIN */
  main {
    max-width: 960px;
    margin: 1rem auto 3rem;
    padding: 1rem;
    background: #001122dd;
    border-radius: 15px;
    box-shadow: 0 0 20px #00ffffaa;
  }

  /* GALAXIA - Tarjetas de contenido */
  .galaxia {
    margin-bottom: 2rem;
  }
  .galaxia h2 {
    margin-bottom: 1rem;
    color: #00ffff;
    text-align: center;
    font-weight: 700;
  }
  .contenedor-cards {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
  }
  .card {
    background: #002233;
    flex: 1 1 220px;
    padding: 1rem;
    border-radius: 15px;
    box-shadow: 0 0 15px #00ffffcc;
    transition: transform 0.3s ease;
    cursor: default;
  }
  .card:hover {
    transform: scale(1.05);
  }
  .card h3 {
    margin-bottom: 0.6rem;
    color: #00cccc;
  }
  .tooltip-icon {
    position: relative;
    cursor: help;
    margin-left: 0.3rem;
  }
  .tooltip-text {
    visibility: hidden;
    background: #00bbbbcc;
    color: black;
    text-align: center;
    border-radius: 6px;
    padding: 5px 8px;
    position: absolute;
    z-index: 10;
    bottom: 125%;
    left: 50%;
    transform: translateX(-50%);
    width: max-content;
    max-width: 180px;
    opacity: 0;
    transition: opacity 0.3s;
    font-size: 0.9rem;
  }
  .tooltip-icon:hover .tooltip-text {
    visibility: visible;
    opacity: 1;
  }

  /* MODAL */
  .modal {
    display: none;
    position: fixed;
    z-index: 50;
    left: 0; top: 0;
    width: 100%; height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.8);
  }
  .modal-contenido {
    background-color: #001122;
    margin: 10% auto;
    padding: 1.5rem;
    border: 2px solid #00ffff;
    border-radius: 15px;
    width: 90%;
    max-width: 500px;
    color: #00ffff;
  }
  .cerrar {
    color: #00cccc;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }
  .cerrar:hover {
    color: #00ffff;
  }
  .modal-contenido ul {
    margin-top: 1rem;
    list-style: disc inside;
  }

  /* MODAL Dise√±o UI */
  #modalDisenoUI {
    display: none;
    max-width: 480px;
    margin: 2rem auto;
    background: #220044cc;
    border-radius: 15px;
    padding: 1rem 2rem;
    color: #aabbff;
    border: 2px solid #00ffff;
  }
  #modalDisenoUI ul {
    list-style: none;
    margin-left: 1rem;
    padding-left: 0;
  }
  #modalDisenoUI ul li {
    margin-bottom: 0.5rem;
  }
  #modalDisenoUI button {
    margin-top: 1rem;
    background: #00bbbb;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 12px;
    cursor: pointer;
    font-weight: 700;
    color: black;
  }
  #modalDisenoUI button:hover {
    background: #00dddd;
  }

  /* JUEGOS SECCI√ìN */
  .game-section {
    margin-bottom: 2rem;
  }
  .game-section h2 {
    text-align: center;
    margin-bottom: 1rem;
    font-weight: 700;
    color: #00ffff;
  }
  /* PESTA√ëAS DE JUEGOS */
  .game-tabs {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
  }
  .game-tabs button {
    padding: 0.6rem 1.2rem;
    background: #00ffff;
    border: none;
    border-radius: 15px;
    font-weight: 700;
    color: black;
    cursor: pointer;
    box-shadow: 0 0 8px #00cccc;
    transition: background 0.3s ease;
    min-width: 130px;
  }
  .game-tabs button.active,
  .game-tabs button:hover {
    background: #00bbbb;
  }

  .game-content section {
    display: none;
    max-width: 440px;
    margin: 0 auto;
    background: #001122dd;
    border-radius: 15px;
    padding: 1rem 1.5rem;
    box-shadow: 0 0 15px #00ffffcc;
    color: #00ffff;
  }
  .game-content section.active {
    display: block;
  }

  /* Controles botones juego */
  .controls {
    text-align: center;
    margin-bottom: 1rem;
  }
  .controls button {
    background: #00bbbb;
    border: none;
    padding: 0.4rem 1.2rem;
    margin: 0 0.3rem;
    border-radius: 15px;
    cursor: pointer;
    font-weight: 700;
    color: black;
    transition: background 0.3s ease;
  }
  .controls button:hover {
    background: #00dddd;
  }

  /* CANVAS juego recolecta codigos */
  #gameCanvas {
    display: block;
    margin: 0 auto 1rem;
    background: black;
    border-radius: 12px;
  }
  /* Texto puntaje juego recolecta codigos */
  #gameCanvas + p {
    color: #00ff00;
    text-align: center;
    font-weight: 700;
  }

  /* Juego Atrapa Estrellas */
  #juegoArea {
    border-radius: 10px;
  }
  #estrella {
    width: 30px;
    height: 30px;
    background: yellow;
    clip-path: polygon(
      50% 0%,
      61% 35%,
      98% 35%,
      68% 57%,
      79% 91%,
      50% 70%,
      21% 91%,
      32% 57%,
      2% 35%,
      39% 35%
    );
    position: absolute;
    cursor: pointer;
  }
  #puntuacion {
    font-weight: 700;
    text-align: center;
    margin-top: 0.6rem;
  }

  /* Puzzle Gal√°ctico */
  #puzzleGrid {
    margin: 1rem auto;
    border-radius: 12px;
    box-shadow: 0 0 12px #00ffff;
  }
  .puzzle-piece {
    user-select: none;
  }
  #puzzleMessage {
    text-align: center;
    font-weight: 700;
    margin-top: 1rem;
  }

  /* Laberinto Nebulosa */
  #labCanvas {
    border-radius: 12px;
    box-shadow: 0 0 15px #00ffffaa;
  }

  /* GALER√çA */
  .galeria {
    text-align: center;
    margin-bottom: 2rem;
    color: #00ffff;
  }
  .contenedor-proyectos {
  display: flex;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap; /* ‚ùóÔ∏èPermite que bajen si no caben */
  padding: 1rem 0;
  margin: 0 auto;
  max-width: 100%;
}

.proyecto {
  background: #002233;
  padding: 0.5rem;
  border-radius: 12px;
  box-shadow: 0 0 12px #00ffffaa;
  width: 180px;
  text-align: center;
  transition: transform 0.3s ease;
}

.proyecto:hover {
  transform: scale(1.08) rotateZ(2deg);
  box-shadow: 0 0 20px #00ffffaa;
}

.proyecto img {
  width: 100%;
  height: 140px; /* Altura fija para todas */
  object-fit: cover; /* Recorta proporcionalmente */
  border-radius: 8px;
  margin-bottom: 0.4rem;
}


  .qr {
    width: 120px;
    margin-top: 1rem;
  }

  /* PATRONES */
  .patrones {
    margin-bottom: 2rem;
  }
  .patrones ul {
    list-style: none;
    color: #00ffff;
    margin-left: 1rem;
  }
  .patrones ul li {
    margin-bottom: 0.5rem;
  }

  /* ICONOGRAF√çA */
  .iconografia ul {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
    color: #00ffff;
  }
  .iconografia ul li {
    background: #002233;
    padding: 0.4rem 0.8rem;
    border-radius: 12px;
    box-shadow: 0 0 8px #00cccc;
    font-weight: 600;
  }

  /* FOOTER */
  footer {
    text-align: center;
    padding: 1rem;
    background: #002233;
    border-top: 2px solid #00ffff;
    color: #00bbbb;
    font-weight: 600;
  }

  /* Responsive */
  @media (max-width: 600px){
    .contenedor-cards, .contenedor-proyectos {
      flex-direction: column;
      align-items: center;
    }
    .game-tabs {
      flex-direction: column;
    }
    .game-tabs button {
      min-width: auto;
      width: 100%;
      margin-bottom: 0.6rem;
    }
  }
  #starfield {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  pointer-events: none;
  background: transparent;
}

</style>
</head>

<body>



<header>
  <img src="/image.ico" alt="Logo CTP de Aserr√≠" class="logo" />
  <h1>¬°Explora el universo del Desarrollo Web!</h1>
  <p class="subtitulo">Feria de Especialidades T√©cnicas 2025</p>
  <button id="btnInfoTecnica">Ver dise√±o t√©cnico</button>
  <button onclick="mostrarDisenoUI()">¬øC√≥mo fue dise√±ada esta interfaz?</button>
</header>

<main>
<canvas id="starfield"></canvas>
  <section class="galaxia">
    <h2>¬øQu√© aprender√°s en nuestra especialidad?</h2>
    <div class="contenedor-cards">
      <div class="card">
        <h3>HTML5 
          <span class="tooltip-icon">‚ÑπÔ∏è
            <span class="tooltip-text">HTML es el componente estructural de la interfaz.</span>
          </span>
        </h3>
        <p>Construye la estructura de p√°ginas web.</p>
      </div>
      <div class="card">
        <h3>CSS3 üé®</h3>
        <p>Estiliza con efectos visuales sorprendentes.</p>
      </div>
      <div class="card">
        <h3>JavaScript ‚ö°</h3>
        <p>Agrega interacci√≥n y dinamismo gal√°ctico.</p>
      </div>
      <div class="card">
        <h3>Dise√±o Responsivo üì±</h3>
        <p>Adapta tus sitios a cualquier planeta o dispositivo.</p>
      </div>
    </div>
  </section>

  <!-- Modal Dise√±o T√©cnico -->
  <div id="modalInfo" class="modal">
    <div class="modal-contenido">
      <span class="cerrar">&times;</span>
      <h2>Dise√±o T√©cnico del Sitio</h2>
      <ul>
        <li><strong>Estructura (HTML):</strong> secciones, tarjetas, header, footer.</li>
        <li><strong>Estilo (CSS):</strong> colores, animaciones, responsividad.</li>
        <li><strong>Interacci√≥n (JS):</strong> juego, efectos, estrellas.</li>
        <li><strong>Multimedia:</strong> sonido de fondo, im√°genes, QR.</li>
        <li><strong>Componentes reutilizables:</strong> tarjetas y controles del juego.</li>
      </ul>
    </div>
  </div>

  <!-- Modal Dise√±o UI -->
  <div id="modalDisenoUI">
    <h3>Etapas del dise√±o de la interfaz</h3>
    <ul>
      <li><strong>1. An√°lisis del usuario:</strong> ¬øQui√©n lo va a usar?</li>
      <li><strong>2. Modelado de tareas:</strong> Qu√© acciones realizar√°.</li>
      <li><strong>3. Estructura visual:</strong> Layout de secciones.</li>
      <li><strong>4. Prototipado:</strong> Bocetos previos al c√≥digo.</li>
      <li><strong>5. Implementaci√≥n:</strong> HTML, CSS, JS.</li>
      <li><strong>6. Pruebas de usabilidad:</strong> Claridad y accesibilidad.</li>
    </ul>
    <button onclick="cerrarDisenoUI()">Cerrar</button>
  </div>

  <!-- SECCI√ìN DE JUEGOS CON PESTA√ëAS -->
  <section class="game-section">
    <h2>Juegos Interactivos Espaciales</h2>
    <div class="game-tabs">
      <button data-game="codigo" class="active">Recolecta C√≥digos</button>
      <button data-game="estrellas">Atrapa Estrellas</button>
      <button data-game="puzzle">Puzzle Gal√°ctico</button>
      <button data-game="laberinto">Laberinto Nebulosa</button>
    </div>

    <div class="game-content">
      <!-- Juego Recolecta C√≥digos -->
      <section id="codigo" class="active">
        <p>Mueve tu nave con las flechas izquierda y derecha y atrapa los fragmentos correctos de c√≥digo.</p>
        <div class="controls">
          <button id="startCodeGame">Iniciar</button>
          <button id="stopCodeGame">Detener</button>
          <button id="exitCodeGame">Salir</button>
        </div>
        <canvas id="gameCanvas" width="400" height="400" style="background:black; border:2px solid #00ffff; border-radius:12px;"></canvas>
      </section>

      <!-- Juego Atrapa Estrellas -->
      <section id="estrellas">
        <p>Atrapa las estrellas que aparecen aleatoriamente haciendo clic en ellas.</p>
        <div class="controls">
          <button id="startStarGame">Iniciar</button>
          <button id="stopStarGame">Detener</button>
          <button id="exitStarGame">Salir</button>
        </div>
        <div class="juego-area" id="juegoArea" style="width:300px; height:300px; background:#1a1a40; margin:1rem auto; border:2px solid white; border-radius:10px; position:relative;">
          <div class="estrella" id="estrella" style="display:none;"></div>
        </div>
        <p id="puntuacion">Puntos: 0</p>
      </section>

      <!-- Juego Puzzle Gal√°ctico -->
      <section id="puzzle">
        <p>Ordena las piezas para formar la constelaci√≥n.</p>
        <div id="puzzleGrid" style="display:grid; grid-template-columns: repeat(3, 80px); gap: 10px; justify-content:center; margin: 1rem auto;"></div>
        <p id="puzzleMessage" style="margin-top:1rem; font-weight:bold;"></p>
        <button id="btnRestartPuzzle">Reiniciar Puzzle</button>
      </section>

      <!-- Juego Laberinto Nebulosa -->
      <section id="laberinto">
        <p>Usa las flechas para salir del laberinto nebuloso.</p>
        <div class="controls">
          <button id="startLabGame">Iniciar</button>
          <button id="stopLabGame">Detener</button>
          <button id="resetLabGame">Reiniciar</button>
        </div>
        <canvas id="labCanvas" width="360" height="360"></canvas>
      </section>
    </div>
  </section>

  <!-- Galer√≠a de proyectos y QR -->
  <section class="galeria">
    <h2>Proyectos Destacados y C√≥digo QR</h2>
    <div class="contenedor-proyectos">
      

<div class="galeria">
  <h2>Mis Proyectos</h2>
  <div class="contenedor-proyectos">
    
    <div class="proyecto">
      <a href="inductivo taza de t√©.html">
        <img src="/proyecto 2.png" alt="Proyecto 1" />
      </a>
      <p>Proyecto 1: HTML B√°sico</p>
    </div>

    <div class="proyecto" id="tarjeta-medio">
      <a href="index.html">
        <img src="/proyecto 1.png" alt="Proyecto 2" />
      </a>
      <p>Proyecto 2: CSS Animado</p>
    </div>

    <div class="proyecto">
      <a href="/ej1.html">
        <img src="/proyecto 3.png" alt="Proyecto 3" />
      </a>
      <p>Proyecto 3: JS Interactivo</p>
    </div>

  </div>

    <!-- Nueva tarjeta QR -->
    <div class="proyecto" id="tarjeta-qr">
      <p>Visita la p√°gina del colegio</p>
      <img src="/image.png" alt="C√≥digo QR" />
    </div>
</div>



  </section>

  <!-- Patrones de dise√±o -->
  <section class="patrones">
    <h2>Patrones de Dise√±o Usados</h2>
    <ul>
      <li>Separaci√≥n de responsabilidades (HTML/CSS/JS).</li>
      <li>Modularidad para juegos y UI.</li>
      <li>Eventos y delegaci√≥n en JavaScript.</li>
      <li>Animaciones con Canvas y CSS.</li>
      <li>Dise√±o responsivo para m√≥viles y desktop.</li>
    </ul>
  </section>

  <!-- Iconograf√≠a -->
  <section class="iconografia">
    <h2>Iconograf√≠a para Desarrollo Web</h2>
    <ul>
      <li>üñ•Ô∏è Computadora</li>
      <li>üõ†Ô∏è Herramientas</li>
      <li>üåê Navegador</li>
      <li>‚ö° JavaScript</li>
      <li>üé® CSS</li>
      <li>üì± Responsive</li>
      <li>üß© Puzzle</li>
      <li>üöÄ Cohete</li>
      <li>‚≠ê Estrella</li>
    </ul>
  </section>
<canvas id="starfield"></canvas>

</main>

<footer>
  &copy; 2025 CTP de Aserr√≠ | Feria Especialidades T√©cnicas
</footer>

<script>
const canvas = document.getElementById("starfield");
const ctx = canvas.getContext("2d");

let stars = [];

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

// Crear muchas estrellas peque√±as
for (let i = 0; i < 200; i++) {
  stars.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 1.5 + 0.3, // M√ÅS PEQUE√ëAS
    o: Math.random(),
    vy: Math.random() * 0.5 + 0.2 // VELOCIDAD DE MOVIMIENTO
  });
}

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  for (let star of stars) {
    // Movimiento hacia abajo
    star.y += star.vy;
    if (star.y > canvas.height) {
      star.y = 0;
      star.x = Math.random() * canvas.width;
    }

    // Parpadeo m√°s r√°pido
    star.o += (Math.random() - 0.5) * 0.1;
    if (star.o < 0.1) star.o = 0.1;
    if (star.o > 1) star.o = 1;

    ctx.beginPath();
    ctx.arc(star.x, star.y, star.r, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(0, 255, 255, ${star.o})`;
    ctx.shadowColor = "#00ffff";
    ctx.shadowBlur = 5;
    ctx.fill();
  }
  requestAnimationFrame(animate);
}
animate();

  // ==== MODAL DISE√ëO T√âCNICO ====
  const modalInfo = document.getElementById("modalInfo");
  const btnInfoTecnica = document.getElementById("btnInfoTecnica");
  const spanCerrar = modalInfo.querySelector(".cerrar");

  btnInfoTecnica.onclick = () => modalInfo.style.display = "block";
  spanCerrar.onclick = () => modalInfo.style.display = "none";
  window.onclick = (e) => { if(e.target === modalInfo) modalInfo.style.display = "none"; };

  // ==== MODAL DISE√ëO UI ====
  function mostrarDisenoUI(){
    document.getElementById("modalDisenoUI").style.display = "block";
  }
  function cerrarDisenoUI(){
    document.getElementById("modalDisenoUI").style.display = "none";
  }

  // ==== PESTA√ëAS DE JUEGOS ====
  const gameTabsButtons = document.querySelectorAll('.game-tabs button');
  const gameSections = document.querySelectorAll('.game-content section');

  gameTabsButtons.forEach(btn=>{
    btn.addEventListener('click',()=>{
      gameTabsButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      const target = btn.getAttribute('data-game');
      gameSections.forEach(sec=>{
        sec.classList.toggle('active', sec.id === target);
      });

      // Detener juegos activos al cambiar pesta√±a
      detenerTodosJuegos();
    });
  });

  // Funcion para detener todos los juegos cuando cambio de pesta√±a
  function detenerTodosJuegos(){
    juegoRecolecta.stop();
    juegoEstrella.stop();
    puzzleGalactico.stop();
    laberinto.stop();
  }

  // ====== JUEGO RECOLECTA C√ìDIGOS =======
  class JuegoRecolectaCodigos {
    constructor(){
      this.canvas = document.getElementById('gameCanvas');
      this.ctx = this.canvas.getContext('2d');
      this.width = this.canvas.width;
      this.height = this.canvas.height;

      this.nave = {
        x: this.width/2 - 30,
        y: this.height - 60,
        width: 60,
        height: 30,
        speed: 10,
        movingLeft: false,
        movingRight: false
      };
      this.codigos = [];
      this.correctos = [];
      this.score = 0;
      this.running = false;
      this.animationFrame = null;

      this.textosCodigo = ['<div>', '</div>', '<span>', '</span>', '<h1>', '</h1>', 'class="nav"', 'id="main"', 'color:blue;', 'function(){}'];
      this.textosIncorrectos = ['<dog>', '<pizza>', '</cat>', 'float: red', 'var =', 'alert()', 'alerta', 'navigator', 'bodyy', 'funtion()'];
      this.speedDrop = 2;
      this.spawnInterval = null;

      this.keyDownHandler = this.keyDownHandler.bind(this);
      this.keyUpHandler = this.keyUpHandler.bind(this);

      // Bind buttons
      document.getElementById('startCodeGame').addEventListener('click',()=>this.start());
      document.getElementById('stopCodeGame').addEventListener('click',()=>this.stop());
      document.getElementById('exitCodeGame').addEventListener('click',()=>this.exit());
    }
    start(){
      if(this.running) return;
      this.running = true;
      this.score = 0;
      this.codigos = [];
      this.nave.x = this.width/2 - this.nave.width/2;

      window.addEventListener('keydown', this.keyDownHandler);
      window.addEventListener('keyup', this.keyUpHandler);
      this.spawnInterval = setInterval(()=>this.spawnCodigo(), 1500);

      this.loop();
    }
    stop(){
      this.running = false;
      clearInterval(this.spawnInterval);
      window.removeEventListener('keydown', this.keyDownHandler);
      window.removeEventListener('keyup', this.keyUpHandler);
      cancelAnimationFrame(this.animationFrame);
    }
    exit(){
      this.stop();
      this.ctx.clearRect(0,0,this.width,this.height);
      alert("Juego Recolecta C√≥digos cerrado.");
    }
    keyDownHandler(e){
      if(e.key === "ArrowLeft") this.nave.movingLeft = true;
      else if(e.key === "ArrowRight") this.nave.movingRight = true;
    }
    keyUpHandler(e){
      if(e.key === "ArrowLeft") this.nave.movingLeft = false;
      else if(e.key === "ArrowRight") this.nave.movingRight = false;
    }
    spawnCodigo(){
      // Decide si ser√° correcto o no (70% correcto)
      let isCorrect = Math.random() < 0.7;
      let texto = '';
      if(isCorrect) {
        texto = this.textosCodigo[Math.floor(Math.random()*this.textosCodigo.length)];
      } else {
        texto = this.textosIncorrectos[Math.floor(Math.random()*this.textosIncorrectos.length)];
      }
      this.codigos.push({
        x: Math.random()*(this.width - 100),
        y: 0,
        width: 100,
        height: 30,
        texto: texto,
        correct: isCorrect,
        speed: this.speedDrop
      });
    }
    update(){
      // Mover nave
      if(this.nave.movingLeft) this.nave.x -= this.nave.speed;
      if(this.nave.movingRight) this.nave.x += this.nave.speed;

      // Limites nave
      if(this.nave.x < 0) this.nave.x = 0;
      if(this.nave.x + this.nave.width > this.width) this.nave.x = this.width - this.nave.width;

      // Mover c√≥digos
      for(let i=this.codigos.length-1; i>=0; i--){
        let c = this.codigos[i];
        c.y += c.speed;

        // Ver si atrap√≥ nave
        if(c.y + c.height >= this.nave.y && c.y <= this.nave.y + this.nave.height &&
          c.x + c.width >= this.nave.x && c.x <= this.nave.x + this.nave.width) {
          if(c.correct) {
            this.score++;
          } else {
            this.score = Math.max(0, this.score-1);
          }
          this.codigos.splice(i,1);
        }
        // Eliminar si pasa del canvas
        else if(c.y > this.height) {
          this.codigos.splice(i,1);
        }
      }
    }
    draw(){
      this.ctx.clearRect(0,0,this.width,this.height);

      // Dibuja nave
      this.ctx.fillStyle = '#00ffff';
      this.ctx.fillRect(this.nave.x, this.nave.y, this.nave.width, this.nave.height);
      this.ctx.fillStyle = '#001122';
      this.ctx.fillRect(this.nave.x+10, this.nave.y+5, this.nave.width-20, this.nave.height-10);

      // Dibuja c√≥digos
      this.ctx.font = '16px monospace';
      this.ctx.fillStyle = '#00ffcc';
      this.codigos.forEach(c=>{
        this.ctx.fillText(c.texto, c.x + 5, c.y + 20);
        this.ctx.strokeStyle = c.correct ? '#00ff00' : '#ff0000';
        this.ctx.strokeRect(c.x, c.y, c.width, c.height);
      });

      // Puntuaci√≥n
      this.ctx.fillStyle = '#00ffff';
      this.ctx.font = '18px Arial';
      this.ctx.fillText("Puntos: " + this.score, 10, 30);
    }
    loop(){
      if(!this.running) return;
      this.update();
      this.draw();
      this.animationFrame = requestAnimationFrame(()=>this.loop());
    }
  }
  const juegoRecolecta = new JuegoRecolectaCodigos();

  // ====== JUEGO ATRAPA ESTRELLAS =======
  class JuegoEstrella {
    constructor(){
      this.juegoArea = document.getElementById('juegoArea');
      this.estrella = document.getElementById('estrella');
      this.puntosElemento = document.getElementById('puntuacion');
      this.puntos = 0;
      this.running = false;
      this.timeoutId = null;

      document.getElementById('startStarGame').addEventListener('click',()=>this.start());
      document.getElementById('stopStarGame').addEventListener('click',()=>this.stop());
      document.getElementById('exitStarGame').addEventListener('click',()=>this.exit());

      this.estrella.addEventListener('click', ()=> this.clicEstrella());
    }
    start(){
      if(this.running) return;
      this.running = true;
      this.puntos = 0;
      this.puntosElemento.textContent = "Puntos: 0";
      this.mostrarEstrella();
    }
    stop(){
      this.running = false;
      clearTimeout(this.timeoutId);
      this.estrella.style.display = 'none';
    }
    exit(){
      this.stop();
      alert("Juego Atrapa Estrellas cerrado.");
    }
    mostrarEstrella(){
      if(!this.running) return;
      // Posici√≥n aleatoria dentro del √°rea
      const maxX = this.juegoArea.clientWidth - this.estrella.offsetWidth;
      const maxY = this.juegoArea.clientHeight - this.estrella.offsetHeight;
      const posX = Math.random()*maxX;
      const posY = Math.random()*maxY;
      this.estrella.style.left = posX + "px";
      this.estrella.style.top = posY + "px";
      this.estrella.style.display = "block";

      // Cambio cada 1.5 segundos si no es clickeada
      this.timeoutId = setTimeout(() => {
        this.mostrarEstrella();
      }, 1500);
    }
    clicEstrella(){
      if(!this.running) return;
      this.puntos++;
      this.puntosElemento.textContent = "Puntos: " + this.puntos;
      clearTimeout(this.timeoutId);
      this.mostrarEstrella();
    }
  }
  const juegoEstrella = new JuegoEstrella();

  // ====== JUEGO PUZZLE GAL√ÅCTICO =======
  class PuzzleGalactico {
    constructor(){
      this.grid = document.getElementById('puzzleGrid');
      this.message = document.getElementById('puzzleMessage');
      this.piezas = [];
      this.correctOrder = [1,2,3,4,5,6,7,8,9];
      this.draggedPiece = null;
      this.init();
      document.getElementById('btnRestartPuzzle').addEventListener('click',()=>this.restart());
      this.running = true;
    }
    init(){
      this.grid.innerHTML = '';
      this.piezas = [];
      for(let i=1; i<=9; i++){
        let pieza = document.createElement('div');
        pieza.className = 'puzzle-piece';
        pieza.textContent = i;
        pieza.style.background = `#00cccc`;
        pieza.style.color = 'black';
        pieza.style.fontWeight = 'bold';
        pieza.style.fontSize = '2rem';
        pieza.style.textAlign = 'center';
        pieza.style.lineHeight = '80px';
        pieza.style.width = '80px';
        pieza.style.height = '80px';
        pieza.style.borderRadius = '12px';
        pieza.style.cursor = 'grab';
        pieza.dataset.value = i;
        pieza.draggable = true;
        this.grid.appendChild(pieza);
        this.piezas.push(pieza);
      }
      this.shufflePieces();
      this.addDragEvents();
      this.message.textContent = '';
    }
    shufflePieces(){
      for(let i = this.piezas.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        this.grid.insertBefore(this.piezas[j], this.piezas[i]);
        [this.piezas[i], this.piezas[j]] = [this.piezas[j], this.piezas[i]];
      }
    }
    addDragEvents(){
      this.piezas.forEach(pieza => {
        pieza.addEventListener('dragstart', e => {
          this.draggedPiece = e.target;
          e.dataTransfer.effectAllowed = 'move';
        });
        pieza.addEventListener('dragover', e => {
          e.preventDefault();
        });
        pieza.addEventListener('drop', e => {
          e.preventDefault();
          if(this.draggedPiece !== e.target){
            const draggedIndex = Array.from(this.grid.children).indexOf(this.draggedPiece);
            const targetIndex = Array.from(this.grid.children).indexOf(e.target);
            if(draggedIndex > targetIndex){
              this.grid.insertBefore(this.draggedPiece, e.target);
            } else {
              this.grid.insertBefore(this.draggedPiece, e.target.nextSibling);
            }
            this.checkWin();
          }
        });
      });
    }
    checkWin(){
      const currentOrder = Array.from(this.grid.children).map(c => parseInt(c.dataset.value));
      if(currentOrder.join() === this.correctOrder.join()){
        this.message.textContent = '¬°Felicidades! Completaste el puzzle gal√°ctico.';
        this.message.style.color = '#00ff00';
      } else {
        this.message.textContent = '';
      }
    }
    restart(){
      this.init();
    }
    stop(){
      // No requiere l√≥gica especial para detener, solo reiniciar el puzzle
      this.message.textContent = '';
    }
  }
  const puzzleGalactico = new PuzzleGalactico();

  // ====== JUEGO LABERINTO NEBULOSA =======
  class LaberintoNebulosa {
    constructor(){
      this.canvas = document.getElementById('labCanvas');
      this.ctx = this.canvas.getContext('2d');
      this.gridSize = 9;
      this.cellSize = 40;
      this.maze = [];
      this.player = { x: 0, y: 0 };
      this.end = { x: 8, y: 8 };
      this.gameRunning = false;
      this.init();
      document.getElementById('startLabGame').addEventListener('click',()=>this.start());
      document.getElementById('stopLabGame').addEventListener('click',()=>this.stop());
      document.getElementById('resetLabGame').addEventListener('click',()=>this.reset());

      this.handleKeyDown = this.handleKeyDown.bind(this);
    }
    init(){
      // Simple laberinto - 0 camino, 1 pared
      this.maze = [
        [0,1,0,0,0,1,0,0,0],
        [0,1,0,1,0,1,0,1,0],
        [0,0,0,1,0,0,0,1,0],
        [0,1,1,1,1,1,0,1,0],
        [0,1,0,0,0,0,0,1,0],
        [0,1,0,1,1,1,0,1,0],
        [0,0,0,1,0,0,0,0,0],
        [1,1,0,1,0,1,1,1,0],
        [0,0,0,0,0,0,0,1,0]
      ];
      this.player = { x: 0, y: 0 };
      this.draw();
    }
    draw(){
      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
      for(let y=0; y<this.gridSize; y++){
        for(let x=0; x<this.gridSize; x++){
          if(this.maze[y][x] === 1){
            this.ctx.fillStyle = '#003366'; // pared
          } else {
            this.ctx.fillStyle = '#001122'; // camino
          }
          this.ctx.fillRect(x*this.cellSize, y*this.cellSize, this.cellSize, this.cellSize);
          this.ctx.strokeStyle = '#004488';
          this.ctx.strokeRect(x*this.cellSize, y*this.cellSize, this.cellSize, this.cellSize);
        }
      }
      // Dibuja salida
      this.ctx.fillStyle = '#00ff00';
      this.ctx.fillRect(this.end.x*this.cellSize+8, this.end.y*this.cellSize+8, this.cellSize-16, this.cellSize-16);
      // Dibuja jugador
      this.ctx.fillStyle = '#00ffff';
      this.ctx.beginPath();
      this.ctx.arc(this.player.x*this.cellSize + this.cellSize/2, this.player.y*this.cellSize + this.cellSize/2, this.cellSize/3, 0, Math.PI*2);
      this.ctx.fill();
    }
    start(){
      if(this.gameRunning) return;
      this.gameRunning = true;
      window.addEventListener('keydown', this.handleKeyDown);
      this.draw();
    }
    stop(){
      this.gameRunning = false;
      window.removeEventListener('keydown', this.handleKeyDown);
      this.draw();
    }
    reset(){
      this.stop();
      this.init();
    }
    handleKeyDown(e){
      if(!this.gameRunning) return;
      let nx = this.player.x;
      let ny = this.player.y;
      switch(e.key){
        case 'ArrowUp': ny--; break;
        case 'ArrowDown': ny++; break;
        case 'ArrowLeft': nx--; break;
        case 'ArrowRight': nx++; break;
        default: return;
      }
      if(nx >= 0 && ny >= 0 && nx < this.gridSize && ny < this.gridSize){
        if(this.maze[ny][nx] === 0){
          this.player.x = nx;
          this.player.y = ny;
          this.draw();
          this.checkWin();
        }
      }
    }
    checkWin(){
      if(this.player.x === this.end.x && this.player.y === this.end.y){
        alert("¬°Felicidades! Has salido del laberinto nebuloso.");
        this.stop();
      }
    }
  }
  const laberinto = new LaberintoNebulosa();

</script>
</body>
</html>
